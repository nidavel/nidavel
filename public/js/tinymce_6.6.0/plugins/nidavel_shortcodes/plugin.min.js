
!function(){
  tinymce.PluginManager.add('nidavel_shortcodes', (editor, url) => {

      const openDialog = () => editor.windowManager.open({
        title: 'Shortcodes (click to copy)',
        body: {
          type: 'panel',
          items: [
            {
              type: 'htmlpanel', // an HTML panel component
              html: shortcodes
            }
          ]
        },
        buttons: [
            {
              type: 'cancel',
              text: 'Close'
            }
        ]
      });

      /* Add a button that opens a window */
      editor.ui.registry.addButton('nidavel_shortcodes', {
        text: '[/]',
        tooltip: "Insert a shortcode",
        onAction: () => {
          /* Open window */
          openDialog();
        }
      });
    
      return {
        getMetadata: () => ({
          name: 'Shortcodes',
          url: 'https://nidavel.com'
        })
      }
  });
}();
